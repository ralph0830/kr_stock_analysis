# Ralph Stock Analysis System - ì¸í”„ë¼ êµ¬ì¡° ë¶„ì„ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2026-02-06
**ì‘ì„±ì**: DevOps Architect (Claude Code Agent)
**ë²„ì „**: 1.0

---

## 1. ì‹¤í–‰ ìš”ì•½ (Executive Summary)

### 1.1 í˜„ì¬ ìƒíƒœ
- **ì•„í‚¤í…ì²˜**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê¸°ë°˜ Docker Compose ë°°í¬
- **ì„œë¹„ìŠ¤ ìˆ˜**: 11ê°œ (API Gateway, 5ê°œ ìŠ¤ìºë„ˆ/ì—”ì§„, Frontend, Celery, DB, Redis)
- **ì¸í”„ë¼ ìƒíƒœ**: ê°œë°œ í™˜ê²½ ìš´ì˜ ì¤‘, í”„ë¡œë•ì…˜ ì„¤ì • ì¡´ì¬
- **ëª¨ë‹ˆí„°ë§**: ê¸°ë³¸ ë©”íŠ¸ë¦­ ì‹œìŠ¤í…œ êµ¬í˜„ (Prometheus í˜¸í™˜), Flower (Celery ëª¨ë‹ˆí„°ë§)

### 1.2 ì£¼ìš” ë°œê²¬
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| Docker Compose êµ¬ì¡° | âœ… ìš°ìˆ˜ | Profiles ê¸°ë°˜ í™˜ê²½ ë¶„ë¦¬ |
| ë¦¬ì†ŒìŠ¤ ì œí•œ | âœ… êµ¬í˜„ë¨ | CPU/Memory limits ì„¤ì • |
| Health Check | âš ï¸ ë¶€ë¶„ì  | ì¼ë¶€ ì„œë¹„ìŠ¤ì—ë§Œ êµ¬í˜„ |
| ë©”íŠ¸ë¦­ ìˆ˜ì§‘ | âš ï¸ ê¸°ë³¸ ìˆ˜ì¤€ | Prometheus í˜•ì‹ ë‚´ë³´ë‚´ê¸°ë§Œ ì¡´ì¬ |
| ë¡œê·¸ ì§‘ê³„ | âŒ ë¯¸êµ¬í˜„ | Docker json-file driverë§Œ ì‚¬ìš© |
| ì•Œë¦¼ ì‹œìŠ¤í…œ | âŒ ë¯¸êµ¬í˜„ | ì—†ìŒ |
| CI/CD | âŒ ë¯¸êµ¬í˜„ | ìˆ˜ë™ ë°°í¬ |

---

## 2. ì¸í”„ë¼ ì•„í‚¤í…TURE ë¶„ì„

### 2.1 ì„œë¹„ìŠ¤ í† í´ë¡œì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Nginx Proxy Manager                      â”‚
â”‚              (Reverse Proxy + SSL Termination)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend     â”‚   â”‚  API Gateway   â”‚   â”‚    WebSocket   â”‚
â”‚  (Next.js)     â”‚â—„â”€â”€â”¤   (FastAPI)    â”‚â—„â”€â”€â”¤    (FastAPI)   â”‚
â”‚   Port: 5110   â”‚   â”‚   Port: 5111   â”‚   â”‚   Port: 5111   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VCP Scanner   â”‚  â”‚ Signal Engine  â”‚  â”‚  Chatbot       â”‚
â”‚  Port: 5112    â”‚  â”‚  Port: 5113    â”‚  â”‚  Port: 5114    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Daytrading Scanner   â”‚
â”‚   Port: 5115         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL    â”‚   â”‚     Redis      â”‚
â”‚  + TimescaleDB â”‚   â”‚  (Cache/Broker)â”‚
â”‚  Port: 5433    â”‚   â”‚   Port: 6380   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Celery Worker â”‚   â”‚   Celery Beat  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 í¬íŠ¸ ë§¤í•‘

| í¬íŠ¸ | ì„œë¹„ìŠ¤ | ì™¸ë¶€ ë…¸ì¶œ | ì„¤ëª… |
|------|--------|----------|------|
| 5110 | Frontend | âœ… | Next.js UI |
| 5111 | API Gateway | âœ… | Main API |
| 5112 | VCP Scanner | âŒ | Internal only |
| 5113 | Signal Engine | âŒ | Internal only |
| 5114 | Chatbot | âœ… | AI service |
| 5115 | Daytrading Scanner | âŒ | Internal only |
| 5433 | PostgreSQL | âŒ | DB (dev only) |
| 6380 | Redis | âŒ | Cache (dev only) |
| 5555 | Flower | âœ… | Celery monitoring |

### 2.3 ë¦¬ì†ŒìŠ¤ í• ë‹¹ í˜„í™©

#### ê°œë°œ í™˜ê²½ (dev.yml)
| ì„œë¹„ìŠ¤ | CPU Limit | Memory Limit | CPU Reservation | Memory Reservation |
|--------|-----------|--------------|------------------|-------------------|
| API Gateway | 1.0 | 2GB | 0.25 | 256MB |
| VCP Scanner | 0.5 | 1GB | 0.1 | 128MB |
| Signal Engine | 0.5 | 1GB | 0.1 | 128MB |
| Daytrading Scanner | 0.5 | 1GB | 0.1 | 128MB |
| Chatbot | 0.5 | 1GB | 0.1 | 128MB |
| Frontend | - | - | - | - |
| Celery Worker | 1.0 | 2GB | 0.25 | 256MB |
| Celery Beat | 0.25 | 256MB | 0.05 | 64MB |
| Flower | 0.25 | 256MB | 0.05 | 64MB |
| **ì´ê³„** | **4.5** | **8.5GB** | **1.1** | **1.3GB** |

#### í”„ë¡œë•ì…˜ í™˜ê²½ (prod.yml)
| ì„œë¹„ìŠ¤ | CPU Limit | Memory Limit | CPU Reservation | Memory Reservation |
|--------|-----------|--------------|------------------|-------------------|
| API Gateway | 1.0 | 512MB | 0.5 | 256MB |
| VCP Scanner | 0.5 | 256MB | 0.25 | 128MB |
| Signal Engine | 0.5 | 256MB | 0.25 | 128MB |
| Daytrading Scanner | 0.5 | 256MB | 0.25 | 128MB |
| Chatbot | 0.5 | 512MB | 0.25 | 256MB |
| Frontend | 0.5 | 256MB | 0.25 | 128MB |
| Celery Worker | 1.0 | 512MB | 0.5 | 256MB |
| Celery Beat | 0.25 | 128MB | 0.1 | 64MB |
| **ì´ê³„** | **4.25** | **2.7GB** | **2.35** | **1.4GB** |

**ë¶„ì„**:
- í”„ë¡œë•ì…˜ í™˜ê²½ì´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ íš¨ìœ¨ì  (2.7GB vs 8.5GB)
- CPU ì˜ˆì•½ëŸ‰ í”„ë¡œë•ì…˜ì—ì„œ ë” ë†’ìŒ (ì•ˆì •ì„± ìš°ì„ )

---

## 3. Docker Compose êµ¬ì¡° ë¶„ì„

### 3.1 Profiles ê¸°ë°˜ êµ¬ì¡°
```
docker/compose/
â”œâ”€â”€ docker-compose.yml          # Base configuration
â”œâ”€â”€ infra.yml                   # Infrastructure (PostgreSQL, Redis)
â”œâ”€â”€ profiles/
â”‚   â”œâ”€â”€ dev.yml                 # Development overrides
â”‚   â”œâ”€â”€ prod.yml                # Production overrides
â”‚   â””â”€â”€ test.yml                # Test environment
â””â”€â”€ services/
    â”œâ”€â”€ api-gateway.yml
    â”œâ”€â”€ vcp-scanner.yml
    â”œâ”€â”€ signal-engine.yml
    â”œâ”€â”€ chatbot.yml
    â”œâ”€â”€ daytrading-scanner.yml
    â”œâ”€â”€ frontend.yml
    â”œâ”€â”€ celery.yml
    â””â”€â”€ db-init.yml
```

**ì¥ì **:
- âœ… í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ (dev/prod/test)
- âœ… ì„œë¹„ìŠ¤ ëª¨ë“ˆí™”ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- âœ… YAML Anchor í™œìš©ìœ¼ë¡œ ì¤‘ë³µ ì œê±°

**ê°œì„  í•„ìš”**:
- âš ï¸ Health Check ë¶ˆì¼ì¹˜ (ì„œë¹„ìŠ¤ë§ˆë‹¤ ìƒì´)
- âš ï¸ ë¡œê·¸ ë“œë¼ì´ë²„ ê¸°ë³¸ê°’ë§Œ ì‚¬ìš©
- âš ï¸ Restart ì •ì±… ë¶ˆê· í˜•

### 3.2 Health Check í˜„í™©

| ì„œë¹„ìŠ¤ | Health Check | ìƒíƒœ |
|--------|--------------|------|
| Frontend | âœ… `wget --spider` | êµ¬í˜„ë¨ |
| API Gateway | âœ… `httpx` Python | êµ¬í˜„ë¨ |
| VCP Scanner | âœ… | êµ¬í˜„ë¨ |
| Signal Engine | âœ… | êµ¬í˜„ë¨ |
| Daytrading Scanner | âœ… | êµ¬í˜„ë¨ |
| Chatbot | âœ… | êµ¬í˜„ë¨ |
| PostgreSQL | âœ… `pg_isready` | êµ¬í˜„ë¨ |
| Redis | âœ… `redis-cli ping` | êµ¬í˜„ë¨ |
| Celery Worker | âŒ | ë¯¸êµ¬í˜„ |
| Celery Beat | âŒ | ë¯¸êµ¬í˜„ |
| Flower | âŒ | ë¯¸êµ¬í˜„ |

**ë¬¸ì œì **:
- Celery ì„œë¹„ìŠ¤ì— Health Check ì—†ìŒ
- ì»¤ìŠ¤í…€ ì—”ë“œí¬ì¸íŠ¸ ì˜ì¡´ì„± (`/health`)
- í”„ë¡œë•ì…˜ì—ì„œ `start_period` ë¶€ì¡±

### 3.3 ë¡œê·¸ ê´€ë¦¬ í˜„í™©

| ì„¤ì • | í˜„ì¬ ê°’ | ë¬¸ì œì  |
|------|---------|--------|
| Driver | `json-file` | ì¤‘ì•™ ì§‘ê³„ ë¶ˆê°€ |
| max-size | 10m | ìš©ëŸ‰ ë¶€ì¡± ê°€ëŠ¥ì„± |
| max-file | 3 | ë¡œê·¸ ì†Œì‹¤ ê°€ëŠ¥ì„± |

**ë¬¸ì œì **:
- âœ… ë¡œê·¸ íšŒì „ì€ êµ¬í˜„ë¨
- âŒ ì¤‘ì•™ ì§‘ê³„ ì‹œìŠ¤í…œ ì—†ìŒ
- âŒ ë¡œê·¸ ë¶„ì„/ê²€ìƒ‰ ë¶ˆê°€
- âŒ ì•Œë¦¼ ì—°ë™ ì—†ìŒ

---

## 4. ë©”íŠ¸ë¦­ ì‹œìŠ¤í…œ ë¶„ì„

### 4.1 í˜„ì¬ êµ¬í˜„

#### ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ ë¼ì´ë¸ŒëŸ¬ë¦¬ (`src/utils/metrics.py`)
```python
# ì§€ì› ë©”íŠ¸ë¦­ íƒ€ì…
- Counter    # ë‹¨ì¡° ì¦ê°€ (API ìš”ì²­ ìˆ˜ ë“±)
- Gauge      # ì¦ê° ê°€ëŠ¥ (í™œì„± ì—°ê²° ìˆ˜ ë“±)
- Histogram  # ë¶„í¬ (ìš”ì²­ ì‹œê°„ ë“±)

# ë‚´ë³´ë‚´ê¸° í˜•ì‹
- Prometheus text format  # /metrics ì—”ë“œí¬ì¸íŠ¸
- JSON format              # /api/metrics ì—”ë“œí¬ì¸íŠ¸
```

#### ë©”íŠ¸ë¦­ ë¯¸ë“¤ì›¨ì–´
```python
# src/middleware/metrics_middleware.py
- API ìš”ì²­ ìˆ˜ì§‘ (Counter)
- ìš”ì²­ ì‹œê°„ ì¸¡ì • (Histogram)
- HTTP ìƒíƒœ ì½”ë“œ ë¶„ë¥˜
```

#### ì—”ë“œí¬ì¸íŠ¸
| ê²½ë¡œ | ì„¤ëª… | í˜•ì‹ |
|------|------|------|
| `/metrics` | Prometheus í˜•ì‹ | text/plain |
| `/api/metrics` | JSON í˜•ì‹ | application/json |
| `/api/dashboard/metrics` | ëŒ€ì‹œë³´ë“œìš© | application/json |

### 4.2 ìˆ˜ì§‘ ì¤‘ì¸ ë©”íŠ¸ë¦­

**API Gateway**:
```python
# HTTP ë©”íŠ¸ë¦­
http_requests_total              # ì´ ìš”ì²­ ìˆ˜
http_request_duration_seconds    # ìš”ì²­ ì²˜ë¦¬ ì‹œê°„
http_requests_in_progress        # ì§„í–‰ ì¤‘ ìš”ì²­ ìˆ˜

# WebSocket ë©”íŠ¸ë¦­
websocket_connections_active     # í™œì„± ì—°ê²° ìˆ˜
websocket_messages_total         # ë©”ì‹œì§€ ìˆ˜
websocket_broadcast_duration     # ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì‹œê°„

# ì„œí‚· ë¸Œë ˆì´ì»¤
circuit_breaker_state            # ìƒíƒœ (closed/open)
circuit_breaker_failures_total   # ì‹¤íŒ¨ ìˆ˜
```

**Celery**:
- Flowerë¡œ ëª¨ë‹ˆí„°ë§ (http://localhost:5555)
- Worker ìƒíƒœ, ì‘ì—… ì‹¤í–‰ íšŸìˆ˜, ì‹¤íŒ¨ìœ¨

### 4.3 í•œê³„ì 

| í•­ëª© | í˜„ì¬ ìƒíƒœ | ë¬¸ì œì  |
|------|-----------|--------|
| ë©”íŠ¸ë¦­ ì €ì¥ | âŒ | ì˜êµ¬ ì €ì¥ ì—†ìŒ |
| ì‹œê³„ì—´ ë¶„ì„ | âŒ | ê³¼ê±° ë°ì´í„° ì¡°íšŒ ë¶ˆê°€ |
| ëŒ€ì‹œë³´ë“œ | âš ï¸ | ê°„ë‹¨í•œ JSONë§Œ ì œê³µ |
| ì•Œë¦¼ | âŒ | ì—†ìŒ |
| ì„œë¹„ìŠ¤ ê°„ ì—°ê²° | âŒ | ë©”íŠ¸ë¦­ í†µí•© ì—†ìŒ |

---

## 5. ë¡œê·¸ ì‹œìŠ¤í…œ ë¶„ì„

### 5.1 í˜„ì¬ ìƒíƒœ

#### Python ë¡œê¹… ì„¤ì •
```python
# services/*/main.py
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
```

#### Docker ë¡œê·¸ ë“œë¼ì´ë²„
```yaml
logging:
  driver: json-file
  options:
    max-size: 10m
    max-file: 3
```

### 5.2 í•œê³„ì 

| ê¸°ëŠ¥ | í˜„ì¬ ìƒíƒœ | í•„ìš”ì„± |
|------|-----------|--------|
| ì¤‘ì•™ ì§‘ê³„ | âŒ Docker íŒŒì¼ë§Œ | ğŸ”´ í•„ìˆ˜ |
| ë¡œê·¸ ê²€ìƒ‰ | âŒ | ğŸ”´ í•„ìˆ˜ |
| í•„í„°ë§ | âŒ | ğŸŸ¡ ì¤‘ìš” |
| ì•Œë¦¼ | âŒ | ğŸŸ¡ ì¤‘ìš” |
| ê°ì‚¬ ì¶”ì  | âŒ | ğŸŸ¢ ì„ íƒ |
| ë³´ê´€ ì •ì±… | âš ï¸ 30MB limit | ğŸ”´ í•„ìˆ˜ |

---

## 6. CI/CD í˜„í™©

### 6.1 í˜„ì¬ í”„ë¡œì„¸ìŠ¤
```
1. ì½”ë“œ ìˆ˜ì •
2. Docker ì´ë¯¸ì§€ ë¹Œë“œ (ìˆ˜ë™)
3. docker-compose restart (ìˆ˜ë™)
4. í…ŒìŠ¤íŠ¸ (ì„ íƒì )
```

### 6.2 ìë™í™” ìˆ˜ì¤€

| ë‹¨ê³„ | ìë™í™” | ë„êµ¬ |
|------|--------|------|
| ë¹Œë“œ | âŒ ìˆ˜ë™ | docker build |
| í…ŒìŠ¤íŠ¸ | âš ï¸ ë¶€ë¶„ | pytest |
| ë°°í¬ | âŒ ìˆ˜ë™ | docker-compose |
| ë¡¤ë°± | âŒ ìˆ˜ë™ | git revert |

---

## 7. ë³´ì•ˆ ë¶„ì„

### 7.1 ì¸ì¦/ì¸ê°€
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| API ì¸ì¦ | âŒ | ë¯¸êµ¬í˜„ |
| Service-to-Service | âŒ | ë‚´ë¶€ í†µì‹  ë³´ì•ˆ ì—†ìŒ |
| Database | âš ï¸ | ê¸°ë³¸ ìê²© ì¦ëª… |
| Redis | âš ï¸ | ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ |
| Flower | âš ï¸ | ê¸°ë³¸ admin/admin |

### 7.2 ë„¤íŠ¸ì›Œí¬
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| HTTPS | âœ… | NPMì—ì„œ ì²˜ë¦¬ |
| Internal TLS | âŒ | ì„œë¹„ìŠ¤ ê°„ í‰ë¬¸ |
| Network ë¶„ë¦¬ | âš ï¸ | ë‹¨ì¼ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ |

---

## 8. ì„±ëŠ¥ ë¶„ì„

### 8.1 ë³‘ëª© í˜„ìƒ ê°€ëŠ¥ ì§€ì 

| ì»´í¬ë„ŒíŠ¸ | ìœ„í—˜ë„ | ì„¤ëª… |
|----------|--------|------|
| PostgreSQL | ğŸŸ¡ ì¤‘ê°„ | TimescaleDB ìµœì í™” í•„ìš” |
| Redis | ğŸŸ¢ ë‚®ìŒ | ë‹¨ìˆœ ìºì‹œìš© |
| API Gateway | ğŸŸ¡ ì¤‘ê°„ | ëª¨ë“  ìš”ì²­ í†µê³¼ |
| Kiwoom API | ğŸ”´ ë†’ìŒ | ì™¸ë¶€ ì˜ì¡´ì„±, Rate limit |
| WebSocket | ğŸŸ¡ ì¤‘ê°„ | ì—°ê²° ê´€ë¦¬ ì˜¤ë²„í—¤ë“œ |

### 8.2 í™•ì¥ì„±

| ì„œë¹„ìŠ¤ | ìˆ˜ì§ í™•ì¥ | ìˆ˜í‰ í™•ì¥ |
|--------|-----------|-----------|
| Frontend | âœ… | âœ… (Stateless) |
| API Gateway | âœ… | âš ï¸ (Session?) |
| VCP Scanner | âœ… | âŒ (Single) |
| Signal Engine | âœ… | âŒ (Single) |
| Daytrading Scanner | âœ… | âŒ (Single) |
| Chatbot | âœ… | âŒ (Single) |
| Celery Worker | âœ… | âœ… (Redis) |
| PostgreSQL | âš ï¸ | âœ… (Replication) |
| Redis | âœ… | âœ… (Cluster) |

---

## 9. ê°€ìš©ì„± ë¶„ì„

### 9.1 ê³ ê°€ìš©ì„± êµ¬ì„±

| ì»´í¬ë„ŒíŠ¸ | HA êµ¬ì„± | ìƒíƒœ |
|----------|---------|------|
| Frontend | âœ… ê°€ëŠ¥ | ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤ |
| API Gateway | âš ï¸ í•„ìš” | Single point of failure |
| PostgreSQL | âœ… ê°€ëŠ¥ | Streaming Replication |
| Redis | âœ… ê°€ëŠ¥ | Redis Sentinel/Cluster |
| Celery | âœ… ê°€ëŠ¥ | ë‹¤ì¤‘ Worker |

### 9.2 ì¬ì‹œì‘ ì •ì±…

| í™˜ê²½ | ì •ì±… | ìƒíƒœ |
|------|------|------|
| Development | `unless-stopped` | âœ… ì ì ˆ |
| Production | `always` | âœ… ì ì ˆ |

---

## 10. ë°±ì—… ì „ëµ

### 10.1 í˜„ì¬ ìƒíƒœ

| ë°ì´í„° | ë°±ì—… | ìƒíƒœ |
|--------|------|------|
| PostgreSQL | âŒ | ë¯¸êµ¬í˜„ |
| Redis | âŒ | (ì˜êµ¬ ë°ì´í„° ì—†ìŒ) |
| Application | âœ… Git | âœ… |

---

## 11. ê°œì„  ìš°ì„ ìˆœìœ„

### Phase 1: í•„ìˆ˜ ëª¨ë‹ˆí„°ë§ (1-2ì£¼)
| ì‘ì—… | ìš°ì„ ìˆœìœ„ | ë…¸ë ¥ |
|------|----------|------|
| Prometheus + Grafana ì„¤ì¹˜ | ğŸ”´ P0 | 2ì¼ |
| PostgreSQL Exporter | ğŸ”´ P0 | 1ì¼ |
| Redis Exporter | ğŸ”´ P0 | 1ì¼ |
| Node Exporter (ì‹œìŠ¤í…œ) | ğŸ”´ P0 | 1ì¼ |
| cAdvisor (ì»¨í…Œì´ë„ˆ) | ğŸ”´ P0 | 1ì¼ |
| AlertManager ì„¤ì • | ğŸŸ¡ P1 | 2ì¼ |
| í•µì‹¬ Grafana ëŒ€ì‹œë³´ë“œ | ğŸ”´ P0 | 3ì¼ |

### Phase 2: ë¡œê·¸ ì§‘ê³„ (2-3ì£¼)
| ì‘ì—… | ìš°ì„ ìˆœìœ„ | ë…¸ë ¥ |
|------|----------|------|
| ELK Stack ì„¤ì¹˜ | ğŸŸ¡ P1 | 1ì¼ |
| Filebeat ì„¤ì • | ğŸŸ¡ P1 | 2ì¼ |
| Logstash íŒŒì´í”„ë¼ì¸ | ğŸŸ¡ P1 | 3ì¼ |
| Kibana ëŒ€ì‹œë³´ë“œ | ğŸŸ¡ P1 | 3ì¼ |
| ë¡œê·¸ ë³´ê´€ ì •ì±… | ğŸŸ¡ P1 | 1ì¼ |

### Phase 3: ê³ ê°€ìš©ì„± (3-4ì£¼)
| ì‘ì—… | ìš°ì„ ìˆœìœ„ | ë…¸ë ¥ |
|------|----------|------|
| PostgreSQL Replication | ğŸŸ¡ P1 | 3ì¼ |
| Redis Sentinel | ğŸŸ¡ P1 | 2ì¼ |
| API Gateway ë‹¤ì¤‘í™” | ğŸŸ¢ P2 | 3ì¼ |
| Load Balancer êµ¬ì„± | ğŸŸ¢ P2 | 2ì¼ |

### Phase 4: CI/CD (4-5ì£¼)
| ì‘ì—… | ìš°ì„ ìˆœìœ„ | ë…¸ë ¥ |
|------|----------|------|
| GitHub Actions êµ¬ì„± | ğŸŸ¢ P2 | 3ì¼ |
| ìë™ í…ŒìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸ | ğŸŸ¢ P2 | 2ì¼ |
| ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸ | ğŸŸ¢ P2 | 3ì¼ |
| ë¡¤ë°± ìë™í™” | ğŸŸ¢ P2 | 2ì¼ |

---

## 12. ê²°ë¡ 

### 12.1 ê°•ì 
- âœ… ì˜ ì •ì˜ëœ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜
- âœ… Docker Composeë¡œ ê´€ë¦¬ ìš©ì´
- âœ… í™˜ê²½ë³„ Profilesë¡œ ì„¤ì • ë¶„ë¦¬
- âœ… ê¸°ë³¸ ë©”íŠ¸ë¦­ ì‹œìŠ¤í…œ êµ¬í˜„

### 12.2 ê°œì„  í•„ìš”
- ğŸ”´ í•„ìˆ˜: Prometheus + Grafana ëª¨ë‹ˆí„°ë§
- ğŸ”´ í•„ìˆ˜: ì¤‘ì•™ ë¡œê·¸ ì§‘ê³„ (ELK)
- ğŸŸ¡ ì¤‘ìš”: ê³ ê°€ìš©ì„± êµ¬ì„±
- ğŸŸ¡ ì¤‘ìš”: CI/CD íŒŒì´í”„ë¼ì¸
- ğŸŸ¢ ì„ íƒ: ë³´ì•ˆ ê°•í™”

### 12.3 ë‹¤ìŒ ë‹¨ê³„
1. **ì¦‰ì‹œ**: Prometheus + Grafana ì„¤ì¹˜ (Phase 1)
2. **1-2ì£¼ ë‚´**: ELK Stack êµ¬ì¶• (Phase 2)
3. **í•œë‹¬ ë‚´**: HA êµ¬ì„± ê²€í†  (Phase 3)
4. **ë‘ë‹¬ ë‚´**: CI/CD ìë™í™” (Phase 4)

---

*ì´ ë³´ê³ ì„œëŠ” DevOps Architectì— ì˜í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*
