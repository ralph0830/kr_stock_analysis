# ì„œë²„ ì ‘ì† ê°€ì´ë“œ

## ğŸŒ ì™¸ë¶€ ì ‘ì† ì£¼ì†Œ

### í”„ë¡ íŠ¸ì—”ë“œ (ì›¹ ì¸í„°í˜ì´ìŠ¤)
- **URL**: http://112.219.120.75:5110
- **ê¸°ëŠ¥**:
  - ë©”ì¸ í˜ì´ì§€ (/)
  - ëŒ€ì‹œë³´ë“œ (/dashboard) - Market Gate ìƒíƒœ, VCP ì‹œê·¸ë„, ì‹¤ì‹œê°„ ê°€ê²©
  - ì‹œê·¸ë„ í˜ì´ì§€ (/signals) - ì¢…ê°€ë² íŒ… V2 ì‹œê·¸ë„

### API Gateway (FastAPI)
- **API URL**: http://112.219.120.75:8000
- **Swagger ë¬¸ì„œ**: http://112.219.120.75:8000/docs
- **ReDoc ë¬¸ì„œ**: http://112.219.120.75:8000/redoc

### WebSocket
- **WebSocket URL**: ws://112.219.120.75:8000/ws
- **í†µê³„**: http://112.219.120.75:8000/ws/stats

## ğŸ“¡ ì„œë¹„ìŠ¤ í¬íŠ¸

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì™¸ë¶€ ì ‘ì† |
|--------|------|-----------|
| Frontend (Next.js) | 3000 | http://112.219.120.75:5110 |
| API Gateway | 8000 | http://112.219.120.75:8000 |
| VCP Scanner | 8001 | http://112.219.120.75:8001 |
| Signal Engine | 8003 | http://112.219.120.75:8003 |
| WebSocket | 8000/ws | ws://112.219.120.75:8000/ws |

## ğŸ”§ ì„œë²„ ê´€ë¦¬

### ì„œë¹„ìŠ¤ ì‹œì‘
```bash
./scripts/start_all.sh
```

### ì„œë¹„ìŠ¤ ì¤‘ì§€
```bash
./scripts/stop_all.sh
```

### ë¡œê·¸ í™•ì¸
```bash
# API Gateway ë¡œê·¸
tail -f logs/api-gateway.log

# Frontend ë¡œê·¸
tail -f logs/frontend.log

# VCP Scanner ë¡œê·¸
tail -f logs/vcp-scanner.log
```

### API í…ŒìŠ¤íŠ¸
```bash
# ì „ì²´ API í…ŒìŠ¤íŠ¸
uv run scripts/test_api.py

# ê°œë³„ í…ŒìŠ¤íŠ¸
curl http://112.219.120.75:8000/health
curl http://112.219.120.75:8000/api/kr/market-gate
```

## ğŸ“± ì™¸ë¶€ ì ‘ì† ì‹œ ì£¼ì˜ì‚¬í•­

1. **ë°©í™”ë²½**: í¬íŠ¸ 3000, 8000, 8001, 8003ì´ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤
2. **ë„¤íŠ¸ì›Œí¬**: ì„œë²„ IPê°€ ë³€ê²½ë  ê²½ìš° ìœ„ ì£¼ì†Œë„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤
3. **ë³´ì•ˆ**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” HTTPSì™€ ì¸ì¦ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤

## ğŸ§ª API í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ì„±ê³µ (5/7)
- âœ… Health Check
- âœ… Market Gate ìƒíƒœ
- âœ… ì¢…ê°€ë² íŒ… V2 ì‹œê·¸ë„
- âœ… ì‹¤ì‹œê°„ ê°€ê²© ì¡°íšŒ
- âœ… WebSocket í†µê³„

### ì‹¤íŒ¨ (2/7)
- âŒ VCP ì‹œê·¸ë„ ëª©ë¡ (503 - VCP Scanner ì„œë¹„ìŠ¤ ì—°ê²° ë¬¸ì œ)
- âŒ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ (ì‘ë‹µ í˜•ì‹ ë¶ˆì¼ì¹˜)

## ğŸ“Š í˜„ì¬ ìƒíƒœ

- **ì¸í”„ë¼**: PostgreSQL, Redis ì‹¤í–‰ ì¤‘
- **ë°±ì—”ë“œ**: API Gateway, VCP Scanner, Signal Engine ì‹¤í–‰ ì¤‘
- **í”„ë¡ íŠ¸ì—”ë“œ**: Next.js ê°œë°œ ì„œë²„ ì‹¤í–‰ ì¤‘
- **ì™¸ë¶€ ì ‘ì†**: ê°€ëŠ¥ (0.0.0.0 ë°”ì¸ë”©)

## ğŸ”„ ë¡œì»¬ ì ‘ì† (ê°™ì€ ë„¤íŠ¸ì›Œí¬)

ì„œë²„ì™€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ” ê²½ìš°:

```bash
# Frontend
http://112.219.120.75:5110

# API Gateway
http://112.219.120.75:8000
```

## ğŸŒ ì¸í„°ë„· ì ‘ì† (ê³µê°œ IP)

ê³µê°œ IPë¥¼ í†µí•´ ì¸í„°ë„·ì—ì„œ ì ‘ì†í•˜ë ¤ë©´:

1. **ê³µìœ ê¸° í¬íŠ¸ í¬ì›Œë”© ì„¤ì •**
   - 3000 â†’ 3000 (Frontend)
   - 8000 â†’ 8000 (API Gateway)
   - 8001 â†’ 8001 (VCP Scanner)
   - 8003 â†’ 8003 (Signal Engine)

2. **ë°©í™”ë²½ ê·œì¹™ ì¶”ê°€**
```bash
# Ubuntu/Debian
sudo ufw allow 3000/tcp
sudo ufw allow 8000/tcp
sudo ufw allow 8001/tcp
sudo ufw allow 8003/tcp
```

3. **DDNS ì„¤ì •** (ì„ íƒ)
   - ë™ì  IPì˜ ê²½ìš° DDNS ì„œë¹„ìŠ¤ ì‚¬ìš©

## ğŸ“ ë¬¸ì œ í•´ê²°

### í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘
```bash
# ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i :5110
lsof -i :8000

# ê°•ì œ ì¢…ë£Œ
kill -9 <PID>
```

### ì™¸ë¶€ ì ‘ì† ì•ˆ ë¨
```bash
# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
sudo iptables -L -n

# í¬íŠ¸ ë¦¬ìŠ¤ë‹ í™•ì¸
netstat -tuln | grep -E ":(3000|8000|8001|8003)"
```

### ë¡œê·¸ í™•ì¸
```bash
# ì—ëŸ¬ ë¡œê·¸
tail -100 logs/*.log

# ì‹¤ì‹œê°„ ë¡œê·¸
tail -f logs/api-gateway.log
```
